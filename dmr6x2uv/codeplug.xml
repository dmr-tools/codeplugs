<?xml version="1.0" encoding="UTF-8"?>
<!--vi: set ts=2 sw=2:-->
<codeplug>
  <meta>
    <name>BTECH DMR-6X2</name>
    <description>Documents the codeplug format for the BTECH DMR-6X2 UV device.</description>
  </meta>

  <repeat at="800000h" step="40000h" min="1" max="32">
    <meta>
      <name>Channel banks</name>
      <description>A series of channel banks.</description>
    </meta>
    <repeat min="1" max="128">
      <meta>
        <name>Channel bank</name>
        <description>A series of channels.</description>
      </meta>
      <element>
        <meta>
          <name>Channel</name>
          <description>Encodes a FM or DMR channel.</description>
        </meta>
        <int width="4h" format="bcd" endian="big">
          <meta>
            <name>RX frequency</name>
            <description>Encodes the RX frequency in 10Hz.</description>
          </meta>
        </int>
        <int width="4h" format="bcd" endian="big">
          <meta>
            <name>TX frequency offset</name>
            <description>Encodes the RX frequency in 10Hz.</description>
          </meta>
        </int>
        <enum width="0h:2">
          <meta>
            <name>Repeater mode</name>
          </meta>
          <item value="0">
            <name>simplex</name>
            <description>Transmit frequency offset is ignored. Transmit and receive frequencies are
            the same.</description>
          </item>
          <item value="1">
            <name>positive</name>
            <description>Transmit frequency offset is positive. Transmit frequency lays above the
            receive frequency.</description>
          </item>
          <item value="2">
            <name>positive</name>
            <description>Transmit frequency offset is negative. Transmit frequency lays below the
            receive frequency.</description>
          </item>
        </enum>
        <unused width="0h:1">
          <meta>
            <name>Unused data</name>
          </meta>
        </unused>
        <enum width="0h:1">
          <meta>
            <name>Bandwidth</name>
            <description>Specifies the FM bandwidth to use.</description>
          </meta>
          <item value="0">
            <name>narrow</name>
            <description>The FM bandwidth is set to 12.5kHz.</description>
          </item>
          <item value="1">
            <name>wide</name>
            <description>The FM bandwidth is set to 25kHz.</description>
          </item>
        </enum>
        <enum width="0h:2">
          <meta>
            <name>Power</name>
          </meta>
          <item value="0">
            <name>low</name>
          </item>
          <item value="1">
            <name>mid</name>
          </item>
          <item value="2">
            <name>high</name>
          </item>
          <item value="3">
            <name>max</name>
          </item>
        </enum>
        <enum width="0h:2">
          <meta>
            <name>Channel mode</name>
          </meta>
          <item value="0">
            <name>FM</name>
          </item>
          <item value="1">
            <name>DMR</name>
          </item>
          <item value="2">
            <name>FM + DMR RX</name>
          </item>
          <item value="3">
            <name>DMR + FM RX</name>
          </item>
        </enum>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable talk around</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable call confirm</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable RX only</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable CTCSS phase reversal</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable TX DCS tone</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable TX CTCSS tone</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable RX DCS tone</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable RX CTCSS tone</name>
          </meta>
        </int>
        <enum width="1h">
          <meta>
            <name>TX CTCSS frequency</name>
          </meta>
          <item value="0">
            <name>62.5 Hz</name>
          </item>
          <item value="1">
            <name>67.9 Hz</name>
          </item>
          <item value="2">
            <name>69.3 Hz</name>
          </item>
          <item value="3">
            <name>71.9 Hz</name>
          </item>
        </enum>
        <enum width="1h">
          <meta>
            <name>RX CTCSS frequency</name>
          </meta>
          <item value="0">
            <name>62.5 Hz</name>
          </item>
          <item value="1">
            <name>67.9 Hz</name>
          </item>
          <item value="2">
            <name>69.3 Hz</name>
          </item>
          <item value="3">
            <name>71.9 Hz</name>
          </item>
        </enum>
        <int width="2h" format="unsigned" endian="little">
          <meta>
            <name>TX DCS code</name>
          </meta>
        </int>
        <int width="2h" format="unsigned" endian="little">
          <meta>
            <name>RX DCS code</name>
          </meta>
        </int>
        <int width="2h" format="unsigned" endian="little">
          <meta>
            <name>Custom CTCSS frequency</name>
          </meta>
        </int>
        <int width="2h" format="unsigned" endian="little">
          <meta>
            <name>2-tone decode index</name>
          </meta>
        </int>
        <int width="4h" format="unsigned" endian="little">
          <meta>
            <name>Contact index</name>
          </meta>
        </int>
        <int width="1h" format="unsigned">
          <meta>
            <name>Radio ID index</name>
          </meta>
        </int>
        <unused width="0h:1">
          <meta>
            <name>Unused data</name>
          </meta>
        </unused>
        <enum width="0h:3">
          <meta>
            <name>Squelch mode</name>
          </meta>
          <item value="0">
            <name>Carrier</name>
          </item>
          <item value="1">
            <name>CTCSS/DCS</name>
          </item>
          <item value="2">
            <name>Optional signaling</name>
          </item>
          <item value="3">
            <name>CTCSS/DCS + optional signaling</name>
          </item>
        </enum>
        <unused width="0h:4">
          <meta>
            <name>Unused data</name>
          </meta>
        </unused>
        <unused width="0h:2">
          <meta>
            <name>Unused data</name>
          </meta>
        </unused>
        <enum width="0h:2">
          <meta>
            <name>Optional signaling</name>
          </meta>
          <item value="0">
            <name>Off</name>
          </item>
          <item value="1">
            <name>DTMF</name>
          </item>
          <item value="2">
            <name>2-tone</name>
          </item>
          <item value="3">
            <name>5-tone</name>
          </item>
        </enum>
        <unused width="0h:2">
          <meta>
            <name>Unused data</name>
          </meta>
        </unused>
        <enum width="0h:2">
          <meta>
            <name>Transmit permit criterion</name>
          </meta>
          <item value="0">
            <name>always</name>
          </item>
          <item value="1">
            <name>colorcode</name>
          </item>
          <item value="2">
            <name>channel free</name>
          </item>
        </enum>
        <unused width="0h:5">
          <meta>
            <name>Unused data</name>
          </meta>
        </unused>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Exclude channel from roaming</name>
          </meta>
        </int>
        <unused width="0h:1">
          <meta>
            <name>Unused data</name>
          </meta>
        </unused>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Ranging</name>
          </meta>
        </int>
        <int width="1h" format="unsigned">
          <meta>
            <name>Group list index</name>
          </meta>
        </int>
        <int width="1h" format="unsigned">
          <meta>
            <name>2-tone ID</name>
          </meta>
        </int>
        <int width="1h" format="unsigned">
          <meta>
            <name>5-tone ID</name>
          </meta>
        </int>
        <int width="1h" format="unsigned">
          <meta>
            <name>DTMF ID</name>
          </meta>
        </int>
        <int width="1h" format="unsigned">
          <meta>
            <name>Color code</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable lone worker</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable enhanced encryption</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable RX DMR-APRS</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable adaptive TDMA</name>
          </meta>
        </int>
        <unused width="0h:1">
          <meta>
            <name>Unused bit</name>
          </meta>00</unused>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable simplex TDMA</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable SMS confirm</name>
          </meta>
        </int>
        <enum width="0h:1">
          <meta>
            <name>Time slot</name>
          </meta>
          <item value="0">
            <name>Time slot 1</name>
          </item>
          <item value="1">
            <name>Time slot 2</name>
          </item>
        </enum>
        <int width="1h" format="unsigned">
          <meta>
            <name>AES encryption key index</name>
          </meta>
        </int>
        <string format="ascii" width="16" pad="0">
          <meta>
            <name>Channe name</name>
          </meta>
        </string>
        <unused width="1h">
          <meta>
            <name>Pad byte</name>
          </meta>00</unused>
        <unused width="0h:5">
          <meta>
            <name>Unused bits</name>
          </meta>00</unused>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Data ACK disable</name>
          </meta>
        </int>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable through mode</name>
          </meta>
        </int>
        <unused width="0h:1">
          <meta>
            <name>Unused bit</name>
          </meta>00</unused>
        <unused width="1h">
          <meta>
            <name>Unused byte</name>
          </meta>00</unused>
        <repeat n="8">
          <meta>
            <name>New fixed repeat</name>
          </meta>
          <int width="1h" format="unsigned">
            <meta>
              <name>Scan list index</name>
              <description>ffh if not set/used.</description>
            </meta>
          </int>
        </repeat>
        <int width="1h" format="unsigned">
          <meta>
            <name>APRS report channel index</name>
          </meta>
        </int>
        <unused width="0h:6">
          <meta>
            <name>Unused bits</name>
          </meta>00</unused>
        <int width="0h:1" format="unsigned">
          <meta>
            <name>Enable ranging</name>
          </meta>
        </int>
        <enum width="0h:1">
          <meta>
            <name>APRS report type</name>
          </meta>
          <item value="0">
            <name>DMR APRS</name>
          </item>
          <item value="1">
            <name>FM APRS</name>
          </item>
        </enum>
      </element>
    </repeat>
  </repeat>

  <repeat at="fc0800h" n="2">
    <meta>
      <name>VFO channels</name>
    </meta>
    <element>
      <meta>
        <name>VFO channel</name>
      </meta>
      <unknown width="40h">
        <meta>
          <name>Unknown data</name>
        </meta>
      </unknown>
    </element>
  </repeat>

  <repeat at="01000000h" min="0" max="250" step="200h">
    <meta>
      <name>Zone channel lists</name>
    </meta>

    <repeat min="1" max="250">
      <meta><name>Zone channel index list</name></meta>
      <uint16le default="0"><meta><name>Channel index</name></meta></uint16le>
    </repeat>
  </repeat>

  <repeat at="01040000h" min="0" max="250">
    <meta><name>Roming channels</name></meta>
    <element>
      <meta><name>Roming channel</name></meta>
      <unknown width="20h"/>
    </element>
  </repeat>

  <element at="01042000h">
    <meta><name>Roming channel bitmap block</name></meta>
    <repeat n="250">
      <meta><name>Roaming channel bitmap</name></meta>
      <bit><meta><name>Roaming channel enable bit</name></meta></bit>
    </repeat>
    <unused width=":6"/>
  </element>

  <element at="01042080h">
    <meta><name>Roming zones bitmap block</name></meta>
    <repeat n="64">
      <meta><name>Roaming zones bitmap</name></meta>
      <bit><meta><name>Roaming zone enable bit</name></meta></bit>
    </repeat>
    <unused width="8h"/>
  </element>

  <repeat at="01043000h" min="0" max="64">
    <meta><name>Roming zones</name></meta>
    <element>
      <meta><name>Roaming zone</name></meta>
      <unknown width="80h"/>
    </element>
  </repeat>

  <repeat at="01080000h" step="40000h" min="0" max="16">
    <meta><name>Scan list banks</name></meta>
    <repeat at="0h" step="200h" min="1" max="16">
      <meta><name>Scan list bank</name></meta>
      <element>
        <meta><name>Scan list</name></meta>
        <unknown width="90h"/>
      </element>
    </repeat>
  </repeat>

  <repeat at="01640000h" min="1" max="100">
    <meta><name>Message index list</name></meta>
    <unknown width="10h"/>
  </repeat>

  <element at="01640800h">
    <meta><name>Message bytemap block</name></meta>
    <repeat n="100">
      <uint8><meta><name>Message enable byte</name></meta></uint8>
    </repeat>
    <unused width="2ch"/>
  </element>

  <repeat at="02140000h" step="40000h" min="0" max="12">
    <meta><name>Message banks</name></meta>
    <repeat step="100h" min="1" max="8">
      <meta><name>Message bank</name></meta>
      <element>
        <meta><name>Message</name></meta>
        <string format="ascii" width="99"/>
        <unused width="6dh"/>
      </element>
    </repeat>
  </repeat>

  <repeat at="02480000h" min="0" max="25">
    <meta><name>FM broadcast channel banks</name></meta>
    <repeat n="4">
      <meta><name>FM broadcast channel bank</name></meta>
      <bcd8 endian="little"><meta><name>FM broadcast frequency in 100Hz</name></meta></bcd8>
    </repeat>
  </repeat>

  <element at="02480200h">
    <meta><name>FM VFO frequency block</name></meta>
    <bcd8 endian="little"><meta><name>FM VFO frequency in 100Hz</name></meta></bcd8>
    <unused width="0ch"/>
  </element>

  <element at="02480210h">
    <meta><name>FM broadcast channel bitmap block</name></meta>
    <repeat n="100"><bit><meta><name>FM Channel enable bit</name></meta></bit></repeat>
    <unused width="3h:4"/>
  </element>
  
  <element at="024C0000h">
    <meta><name>5-tone encoding</name></meta>
    <unknown width="20h"/>
  </element>

  <element at="024C0C80h">
    <meta><name>5-tone encoding bitmap block</name></meta>
    <unknown width="10h"/>
  </element>
  
  <element at="024C0D00h">
    <meta><name>5-tone ID list</name></meta>
    <unknown width="200h"/>
  </element>

  <element at="024C1000h">
    <meta><name>5-tone settings</name></meta>
    <unknown width="80h"/>
  </element>

  <element at="024C1080h">
    <meta><name>DTMF settings</name></meta>
    <unknown width="50h"/>
  </element>

  <element at="024C1100h">
    <meta><name>2-tone encoding</name></meta>
    <unknown width="10h"/>
  </element>

  <element at="024C1280h">
    <meta><name>2-tone encoding bitmap block</name></meta>
    <unknown width="10h"/>
  </element>

  <element at="024C1280h">
    <meta><name>2-tone settings</name></meta>
    <unknown width="10h"/>
  </element>

  <element at="024C1300h">
    <meta>
      <name>Zone bitmap block</name>
    </meta>
    <repeat n="250">
      <meta>
        <name>Zone bitmap</name>
      </meta>
      <int width="0h:1" format="unsigned">
        <meta>
          <name>Zone enable bit</name>
        </meta>
      </int>
    </repeat>
    <unused width="0h:6">
      <meta>
        <name>Unused data</name>
      </meta>
    </unused>
  </element>
  
  <element at="024C1320h">
    <meta>
      <name>Radio ID bitmap block</name>
    </meta>
    <repeat n="250">
      <meta>
        <name>Radio ID bitmap</name>
      </meta>
      <int width="0h:1" format="unsigned">
        <meta>
          <name>Radio ID enable bit</name>
        </meta>
      </int>
    </repeat>
    <unused width="0h:6">
      <meta>
        <name>Unused data</name>
      </meta>
    </unused>
  </element>
  
  <element at="024C1340h">
    <meta><name>Scan list bitmap block</name></meta>
    <repeat n="250">
      <meta><name>Scan list bitmap</name></meta>  
      <bit><meta><name>Scan list enable bit</name></meta></bit>
    </repeat>
  </element>

  <element at="024C1400h">
    <meta><name>Alarm settings</name></meta>
    <unknown width="20h"/>
  </element>

  <element at="024C1440h">
    <meta><name>Digital alarm settings extension</name></meta>
    <unknown width="30h"/>
  </element>

  <element at="024C1500h">
    <meta>
      <name>Channel bitmap block</name>
    </meta>
    <repeat n="4000">
      <meta>
        <name></name>
      </meta>
      <int width="0h:1" format="unsigned">
        <meta>
          <name>Channel bit</name>
        </meta>
      </int>
    </repeat>
    <unused width="ch">
      <meta>
        <name>Unused data</name>
      </meta>
    </unused>
  </element>
 
  <repeat at="024C1700h" n="32">
    <meta><name>DMR encryption key IDs</name></meta>
    <uint32be><meta><name>DMR encryption key ID</name></meta></uint32be>
  </repeat>

  <repeat at="024C1800h" n="32">
    <meta><name>DMR encryption key IDs</name></meta>
    <unknown width="28h"/>
  </repeat>

  <element at="024C2000h">
    <meta><name>Auto-repeater offset frequency block</name></meta>
    <repeat n="250">
      <meta><name>Auto-repeater offset frequencies</name></meta>
      <uint32le default="0"><meta><name>Offset frequency in 10Hz</name></meta></uint32le>
    </repeat>
    <unused width="8h"/>
  </element>

  <element at="024C2400h">
    <meta><name>2-tone decoding</name></meta>
    <unknown width="10h"/>
  </element>

  <element at="024C2600h">
    <meta><name>2-tone decoding bitmap block</name></meta>
    <unknown width="10h"/>
  </element>

  <unknown at="024C2610h" width="20h"/>

  <unknown at="024C2630h" width="20h"/>

  <unknown at="024C3000h" width="20h"/>

  <unknown at="024C5000h" width="20h"/>

  <element at="02500000h">
    <meta><name>General settings element</name></meta>
    <unknown width="e0h"/>
  </element>

  <element at="02500100h">
    <meta><name>Zone A/B index list block</name></meta>
    <repeat n="250">
      <meta><name>Zone A/B index list</name></meta>
      <element>
        <meta><name>Zone A/B index pair</name></meta>
        <uint16le><meta><name>Channel A index</name></meta></uint16le>
        <uint16le><meta><name>Channel B index</name></meta></uint16le>
      </element>
    </repeat>
    <unused width="18h"/>
  </element>

  <element at="02500500h">
    <meta><name>DTMF List</name></meta>
    <unknown width="100h"/>
  </element>

  <element at="02500600h">
    <meta><name>Boot settings</name></meta>
    <unknown width="30h"/>
  </element>

  <element at="02501000h">
    <meta><name>APRS Settings</name></meta>
    <unknown width="a0h"/>
  </element>

  <element at="02501200h">
    <meta><name>APRS text block</name></meta>
    <string format="ascii" width="60"/>
    <unused width="4h"/>
  </element>

  <element at="02501280h">
    <meta><name>DMR APRS message block</name></meta>
    <string format="ascii" width="40"/>
    <unused width="8h"/>
  </element>

  <element at="02501400h">
    <meta><name>Extended settings</name></meta>
    <unknown width="30h"/>
  </element>

  <repeat at="02540000h" min="0" max="250">
    <meta>
      <name>Zone names</name>
    </meta>
    <string format="ascii" width="32" pad="0"><meta><name>Zone name</name></meta></string>
  </repeat>

  <repeat at="02580000h" min="1" max="250">
    <meta><name>Radio IDs</name></meta>
    <element>
      <meta><name>Radio ID</name></meta>
      <unknown width="20h"/>
    </element>
  </repeat>

  <element at="025C0000h">
    <meta><name>Analog quick call block</name></meta>
    <repeat n="4">
      <meta><name>Analog quick calls</name></meta>
      <unknown width="4"/>
    </repeat>
  </element>

  <repeat at="025C0100h" n="32">
    <meta><name>Status messages</name></meta>
    <unknown width="20h"/>
  </repeat>

  <repeat at="025C0500h" n="18">
    <meta><name>Hotkey settings</name></meta>
    <unknown width="30"/>
  </repeat>

  <repeat at="025C1000h" n="256">
    <meta><name>AES encryption keys</name></meta>
    <unknown width="40h"></unknown>
  </repeat>

  <element at="025C0B00h">
    <meta><name>Status message bitmap</name></meta>
    <unknown width="10h"/>
  </element>

  <element at="025C0B10h">
   <meta><name>Group list bitmap block</name></meta>
   <repeat n="250">
    <meta><name>Group list bitmap</name></meta>
    <bit><meta><name>Group list enable bit</name></meta></bit>
   </repeat>
   <unused width="6"/>
  </element>

  <repeat at="02600000h" min="0" max="10000">
    <meta><name>Contact index list</name></meta>
    <uint32le><meta><name>Contact index</name></meta></uint32le>
  </repeat>

  <element at="02640000h">
    <meta><name>Contact bitmap block</name></meta>
    <repeat n="10000">
      <meta><name>Contact bitmap</name></meta>
      <bit><meta><name>Contact disable bit</name></meta></bit>
    </repeat>
  </element>

  <repeat at="02680000h" min="0" max="10000">
    <meta><name>Contact bank</name></meta>
    <element>
      <meta>
        <name>Contact</name>
      </meta>
      <int width="1h" format="unsigned">
        <meta>
          <name>Type</name>
        </meta>
      </int>
    </element>
  </repeat>

  <repeat at="02900000h" n="128">
    <meta><name>DTMF Contact index list</name></meta>
    <uint8><meta><name>DTMF contact index</name></meta></uint8>
  </repeat>

  <repeat at="02900100h" n="128">
    <meta><name>DTMF Contact bytemap</name></meta>
    <uint8><meta><name>DTMF contact enable byte</name></meta></uint8>
  </repeat>

  <repeat at="02940000h" min="0" max="128">
    <meta><name>DTMF Contacts</name></meta>
    <element>
      <meta><name>DTMF Contact</name></meta>
      <unknown width="18h"/>
    </element>
  </repeat>

  <repeat at="02980000h" step="200h" min="0" max="250">
    <meta><name>Group lists</name></meta>
    <element>
      <meta><name>Group list</name></meta>
      <unknown width="120h"/>
    </element>
  </repeat>

  <repeat at="04340000h" min="0" max="10000">
    <meta><name>Contact-DMR ID index</name></meta>
    <element>
      <uint32le/>
      <uint32le/>
    </element>
  </repeat>

</codeplug>
